<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Suhi-an Books and Borrowers Information System</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Books and Borrowers Information System</h1>

    <!--    The Search and Report Section    -->
    <div class="container">
        <fieldset>
            <legend>
                <h2>Search Records</h2>
            </legend>

            <input type="text" id="searchInput" placeholder="Search records..." list="searchList" style="width: 50%;">
            <datalist id="searchList"></datalist>

            <select id="searchCategory">
                <option value="serial">Serial Number</option>
                <option value="name">Borrower's Name</option>
                <option value="borrowedDate">Date Borrowed</option>
                <option value="returnDate">Date Returned</option>
                <option value="status">Status</option>
            </select>

            <select id="dataOrder">
                <option value="asc">asc</option>
                <option value="desc">desc</option>
            </select>

            <button type="button" onclick="filterRecords()">Sort</button>
            <button type="button" onclick="resetSearch()">Reset</button>
        </fieldset>
        <fieldset>
            <legend>
                <h2>Quick Actions</h2>
            </legend>

            <button onclick="deleteAllRecordsButton()" type="button" class="action-btn">Delete All Records</button>
            <button onclick="updateOverdue()" type="button" class="action-btn">Update Overdue Records</button>
            <button id="toggleViewBtn" onclick="toggleRecordView()" type="button" class="action-btn">Switch to Card
                View</button>

        </fieldset>
    </div>

    <!--    The Record Table    -->
    <fieldset>
        <legend>
            <h2>Records Table</h2>
        </legend>

        <table id="record_table">
            <thead></thead>
            <tbody></tbody>
        </table>

        <!-- A container for card layout -->
        <div id="cardContainer" style="display: none;"></div>

    </fieldset>

    <!--    The Create and Edit Section    -->
    <form id="recordForm">
        <fieldset style="display: flex; align-items: flex-start; gap: 20px;">
            <legend id="createOrEdit">
                <h2>Create a Record</h2>
            </legend>

            <table>
                <tr>
                    <td><label for="borrowerInput">Borrower:</label></td>
                    <td><input type="text" id="borrowerInput" placeholder="Borrower's name or Id" list="borrowerList"
                            required></td>
                    <datalist id="borrowerList"></datalist>

                    <td><label for="bookInput">Add a Book:</label></td>
                    <td>
                        <input type="text" id="bookInput" placeholder="Book title or Id" list="bookList">
                        <datalist id="bookList"></datalist>
                        <button id="addBookButton" type="button" class="action-btn">Add Book</button>
                    </td>
                </tr>

                <tr>
                    <td><label for="borrowedDate">Date Borrowed:</label></td>
                    <td><input type="date" id="borrowedDate" required></td>

                    <td><label>Status:</label></td>
                    <td id="statusRadios">
                        <label>
                            <input type="radio" name="status" value="borrowed" checked> Borrowed
                        </label>
                        <label>
                            <input type="radio" name="status" value="returned"> Returned
                        </label>
                        <label>
                            <input type="radio" name="status" value="overdue"> Overdue
                        </label>
                    </td>
                </tr>

                <tr>
                    <td><label for="returnDate">Expected Date Return:</label></td>
                    <td><input type="date" id="returnDate" required></td>

                    <td style="text-align: right;" colspan="2" style="display: flex; gap: 10px;">
                        <input type="reset" value="Reset"></button>
                        <input type="submit" value="Submit"></button>
                    </td>

                </tr>

            </table>

            <div>
                <table id="selectedBooksContainer">
                    <tbody>Selected Books:</tbody>
                    <thead id="selectedBooksList"></thead>
                </table>
            </div>
        </fieldset>
    </form>

    <!--    Add Book or Sign Up a Borrower    -->
    <div class="container">
        <div>
            <fieldset>
                <legend>
                    <h2>Totals and Reports</h2>
                </legend>
                <table border="1" id="totalsTable">
                    <thead>
                        <tr>
                            <th>Total Records</th>
                            <th>Total Books Borrowed</th>
                            <th>Total Books Returned</th>
                            <th>Total Overdue Books</th>
                        </tr>
                    </thead>
                    <tbody id="totalsTableBody"></tbody>
                    <thead>
                        <tr>
                            <th>Total Borrowers</th>
                            <th>Total Borrowers Active</th>
                            <th>Total Books</th>
                            <th>Total Available books</th>
                        </tr>
                    </thead>
                    <tbody id="dataTableBody"></tbody>
                </table>
            </fieldset>
            <fieldset>
                <legend>
                    <h2>Sign Up a Borrower</h2>
                </legend>
                <input type="text" id="newBorrowerName" placeholder="Borrower's Name" style="width: 90%;">
                <button id="addNewBorrowerButton" type="button" class="action-btn">Add Borrower</button>
                <button id="displayBorrowers" type="button" class="action-btn">Display ALL Borrower</button>
            </fieldset>

            <fieldset>
                <legend>
                    <h2>Record a Book</h2>
                </legend>
                <input type="text" id="newBookName" placeholder="Book Title" style="width: 50%;">
                <input type="text" id="newBookAuthor" placeholder="Author" style="width: 20%;">
                <input type="text" id="newBookYear" placeholder="Year Published" style="width: 20%;">
                <button id="addNewBookButton" type="button" class="action-btn">Add Book</button>
                <button id="displayBooks" type="button" class="action-btn">Display ALL Books</button>
            </fieldset>
        </div>
        <fieldset>
            <legend id="displaySectionLegend">
                <h2>Display Books</h2>
            </legend>
            <table id="dataTable">
                <thead></thead>
                <tbody></tbody>
            </table>
        </fieldset>
    </div>

    <script src="script.js"></script>

</body>

</html>